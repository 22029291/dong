<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Uk-ji | ë‚˜ì˜ ê±´ê°•ì„ ê³µìœ í•˜ë‹¤</title>
    <link rel="stylesheet" href="../css/style.css">
    <!-- Swiper.js CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />

    <!-- Swiper.js JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
</head>
<body>

    <!-- âœ… ë„¤ë¹„ê²Œì´ì…˜ ë°” -->
    <header>
        <div class="logo">
            <a href="index.html"><img src="../img/Logo.png" alt="Uk-ji ë¡œê³ " class="logo-img"></a>
            <div class="logo-text">
                <h1><a href='index.html'>Uk-ji</a></h1>
                <p class="subtitle">ë‚˜ì˜ ê±´ê°•ì„ ê³µìœ í•˜ë‹¤.</p> <!-- ğŸ‘ˆ í•˜ë‹¨ìœ¼ë¡œ ì´ë™ -->
            </div>
        </div>

        <nav class="nav-links">
            <ul>
                <li><a href="company.html">ì†Œê°œ</a></li>
                <li><a href="product_news.html">ì œí’ˆë‰´ìŠ¤</a></li>
                <li><a href="notice.html">ê³µì§€ì‚¬í•­</a></li>
                <li><a href="products.html">ìƒí’ˆì†Œê°œ</a></li>
                <li><a href="board.html">ì»¤ë®¤ë‹ˆí‹°</a></li>
            </ul>
        </nav>

        <div class="user-menu">
            <a href="login.html" class="btn">ë¡œê·¸ì¸</a>
            <a href='signup.html' class="btn">íšŒì›ê°€ì…</button>
            <a href="mypage.html" class="btn">
                <i class="fas fa-user-circle"></i>
            </a>
        </div>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    </header>

    <main>
        <!-- ğŸ” ê²€ìƒ‰ì°½ -->
<section class="main-search">
    <div class="search-box">
        <input type="text" id="searchInput" placeholder="ì–´ë–¤ ì •ë³´ë¥¼ ì°¾ê³  ê³„ì‹ ê°€ìš”?">
        <button id="searchButton"></button>
    </div>
</section>
<main>
    <section class="search-results">
        <h2>ğŸ” ê²€ìƒ‰ ê²°ê³¼</h2>
        <p id="resultText">ê²€ìƒ‰ ì¤‘...</p>

        <div id="resultsContainer" class="results-wrapper">
            <!-- ì˜ˆì‹œ ë°ì´í„° - ì‹¤ì œ ë°ì´í„°ëŠ” JavaScriptì—ì„œ ë™ì ìœ¼ë¡œ ìƒì„±ë¨ -->
            <div class="shopping-site-results">
                <div class="site-header">
                    <h3>ğŸ›’ ì¿ íŒ¡</h3>
                </div>
                <div class="product-grid">
                    <!-- ì˜ˆì‹œ ìƒí’ˆ ì¹´ë“œ -->
                    <div class="product-card">
                        <div class="rank-badge">1</div>
                        <div class="product-image-wrapper">
                            <img src="https://via.placeholder.com/300" alt="ìƒí’ˆ ì´ë¯¸ì§€" class="product-image">
                        </div>
                        <div class="product-info">
                            <h4 class="product-title">ìƒí’ˆëª…ì´ ë“¤ì–´ê°ˆ ìë¦¬ì…ë‹ˆë‹¤</h4>
                            <p class="price">50,000ì›</p>
                            <p class="sales-count">íŒë§¤ëŸ‰ 1,234ê°œ</p>
                        </div>
                    </div>
                    <!-- ì¶”ê°€ ì˜ˆì‹œ ì¹´ë“œë“¤ ìƒëµ -->
                </div>
            </div>
        </div>
    </section>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            // ì˜ˆì‹œ ë°ì´í„° êµ¬ì¡°
            const sampleData = {
                coupang: [
                    {
                        title: "ìƒ˜í”Œ ìƒí’ˆ 1",
                        price: 50000,
                        sales_count: 1234,
                        image_url: "https://via.placeholder.com/300",
                        url: "#"
                    },
                    {
                        title: "ìƒ˜í”Œ ìƒí’ˆ 2",
                        price: 50000,
                        sales_count: 1234,
                        image_url: "https://via.placeholder.com/300",
                        url: "#"
                    },
                    {
                        title: "ìƒ˜í”Œ ìƒí’ˆ 3",
                        price: 50000,
                        sales_count: 1234,
                        image_url: "https://via.placeholder.com/300",
                        url: "#"
                    }
                    
                ],
                gmarket: [
                {
                        title: "ìƒ˜í”Œ ìƒí’ˆ 1",
                        price: 50000,
                        sales_count: 1234,
                        image_url: "https://via.placeholder.com/300",
                        url: "#"
                    },
                    {
                        title: "ìƒ˜í”Œ ìƒí’ˆ 2",
                        price: 50000,
                        sales_count: 1234,
                        image_url: "https://via.placeholder.com/300",
                        url: "#"
                    },
                    {
                        title: "ìƒ˜í”Œ ìƒí’ˆ 3",
                        price: 50000,
                        sales_count: 1234,
                        image_url: "https://via.placeholder.com/300",
                        url: "#"
                    }
                ],
                naver: [
                {
                        title: "ìƒ˜í”Œ ìƒí’ˆ 1",
                        price: 50000,
                        sales_count: 1234,
                        image_url: "https://via.placeholder.com/300",
                        url: "#"
                    },
                    {
                        title: "ìƒ˜í”Œ ìƒí’ˆ 2",
                        price: 50000,
                        sales_count: 1234,
                        image_url: "https://via.placeholder.com/300",
                        url: "#"
                    },
                    {
                        title: "ìƒ˜í”Œ ìƒí’ˆ 3",
                        price: 50000,
                        sales_count: 1234,
                        image_url: "https://via.placeholder.com/300",
                        url: "#"
                    }
                ]
            };
    
            // í¬ë¡¤ë§ ë°ì´í„°ë¥¼ ë°›ì•„ì™€ì„œ ì²˜ë¦¬í•˜ëŠ” í•¨ìˆ˜
            async function fetchProductData(query) {
                try {
                    // ì—¬ê¸°ì— ì‹¤ì œ í¬ë¡¤ë§ API í˜¸ì¶œ ì½”ë“œê°€ ë“¤ì–´ê°ˆ ì˜ˆì •
                    // const response = await fetch(`/api/crawl?query=${encodeURIComponent(query)}`);
                    // const data = await response.json();
                    
                    // ì„ì‹œë¡œ ì˜ˆì‹œ ë°ì´í„° ì‚¬ìš©
                    return sampleData;
                } catch (error) {
                    console.error("ë°ì´í„° ê°€ì ¸ì˜¤ê¸° ì‹¤íŒ¨:", error);
                    return null;
                }
            }
    
            // ê²€ìƒ‰ ê²°ê³¼ í‘œì‹œ í•¨ìˆ˜
            function displayResults(data) {
                let resultsContainer = document.getElementById("resultsContainer");
                resultsContainer.innerHTML = "";
    
                Object.entries(data).forEach(([site, products]) => {
                    let section = document.createElement("div");
                    section.className = "shopping-site-results";
                    
                    let siteTitle = "";
                    let siteIcon = "";
                    switch(site) {
                        case "coupang":
                            siteTitle = "ì¿ íŒ¡";
                            siteIcon = "ğŸ›’";
                            break;
                        case "gmarket":
                            siteTitle = "ì§€ë§ˆì¼“";
                            siteIcon = "ğŸ›ï¸";
                            break;
                        case "naver":
                            siteTitle = "ë„¤ì´ë²„ ìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´";
                            siteIcon = "ğŸŸ¢";
                            break;
                    }
    
                    const top3Products = products.slice(0, 3);
    
                    section.innerHTML = `
                        <div class="site-header">
                            <h3>${siteIcon} ${siteTitle}</h3>
                        </div>
                        <div class="product-grid">
                            ${top3Products.map((product, index) => `
                                <a href="${product.url}" class="product-card" target="_blank">
                                    <div class="rank-badge">${index + 1}</div>
                                    <div class="product-image-wrapper">
                                        <img src="${product.image_url}" alt="${product.title}" class="product-image">
                                    </div>
                                    <div class="product-info">
                                        <h4 class="product-title">${product.title}</h4>
                                        <p class="price">${product.price.toLocaleString()}ì›</p>
                                        <p class="sales-count">íŒë§¤ëŸ‰ ${product.sales_count.toLocaleString()}ê°œ</p>
                                    </div>
                                </a>
                            `).join("")}
                        </div>
                    `;
                    resultsContainer.appendChild(section);
                });
            }
    
            // ê²€ìƒ‰ ì‹¤í–‰ í•¨ìˆ˜
            async function performSearch(query) {
                const resultText = document.getElementById("resultText");
                resultText.textContent = "ê²€ìƒ‰ ì¤‘...";
    
                try {
                    const data = await fetchProductData(query);
                    if (data) {
                        displayResults(data);
                        resultText.textContent = `"${query}" ê²€ìƒ‰ ê²°ê³¼`;
                    } else {
                        resultText.textContent = "ê²€ìƒ‰ ê²°ê³¼ë¥¼ ê°€ì ¸ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.";
                    }
                } catch (error) {
                    resultText.textContent = "ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.";
                    console.error(error);
                }
            }
    
            // ê²€ìƒ‰ ì‹¤í–‰ (ì˜ˆì‹œ)
            performSearch("ê²€ìƒ‰ì–´");
        });
    </script>
    
    <!-- âœ… í‘¸í„° -->
    <footer>
        <!-- ì´ë©”ì¼ êµ¬ë… -->
        <div class="newsletter">
            <h3>ì´ë©”ì¼ë¡œ ìµœì‹  ê±´ê°• ì •ë³´ì™€ í• ì¸ ì†Œì‹ì„ ë°›ì•„ë³´ì„¸ìš”!</h3>
            <input type="email" placeholder="ì´ë©”ì¼ ì£¼ì†Œ ì…ë ¥">
            <button>ì‹ ì²­í•˜ê¸°</button>
        </div>

        <div class="footer-top">
            <!-- íšŒì‚¬ ì†Œê°œ -->
            <div class="footer-section">
                <h2>Uk-ji</h2>
                <p>ê±´ê°•í•œ ì‚¶ì„ ìœ„í•œ ìµœê³ ì˜ ì„ íƒ! <br> ë¯¿ì„ ìˆ˜ ìˆëŠ” ì˜ì–‘ì œ ì •ë³´ì™€ ì»¤ë®¤ë‹ˆí‹°ë¥¼ ì œê³µí•©ë‹ˆë‹¤.</p>
            </div>
    
            <!-- ìœ ìš©í•œ ë§í¬ -->
            <div class="footer-section">
                <h3>íšŒì‚¬ ì •ë³´</h3>
                <ul>
                    <li><a href="company.html">íšŒì‚¬ ì†Œê°œ</a></li>
                    <li><a href="notice.html">ê³µì§€ì‚¬í•­</a></li>
                    <li><a href="#">ì œíœ´ í”„ë¡œê·¸ë¨</a></li>
                </ul>
            </div>
    
            <!-- SNS & ì•± ë‹¤ìš´ë¡œë“œ -->
            <div class="footer-section">
                <h3>íŒ”ë¡œìš°í•˜ì„¸ìš”</h3>
                <div class="social-icons">
                    <a href="#"><img src="../img/facebook_icon.png" alt="Facebook"></a>
                    <a href="#"><img src="../img/instagram_icon.png" alt="Instagram"></a>
                    <a href="#"><img src="../img/youtube_icon.png" alt="YouTube"></a>
                </div>
            </div>
        </div>
    
        <!-- ì €ì‘ê¶Œ ë° ì •ì±… -->
        <div class="footer-bottom">
            <p>Â© 2025 Uk-ji. ëª¨ë“  ê¶Œë¦¬ ë³´ìœ . ëª¨ë“  ê¶Œí•œì€ Uk-jiì— ìˆìŠµë‹ˆë‹¤.</p>
            <ul>
                <li><a href="#">ê°œì¸ì •ë³´ ì²˜ë¦¬ë°©ì¹¨</a></li>
                <li><a href="#">ì´ìš©ì•½ê´€</a></li>
                <li><a href="#">ìì£¼ ë¬»ëŠ” ì§ˆë¬¸</a></li>
            </ul>
        </div>
    </footer>

</html>

<style>
    .results-wrapper {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
    }

    .shopping-site-results {
        margin-bottom: 3rem;
        padding: 1.5rem;
        border-radius: 12px;
        background-color: #ffffff;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .site-header {
        margin-bottom: 1.5rem;
        padding-bottom: 1rem;
        border-bottom: 2px solid #f0f0f0;
    }

    .site-header h3 {
        font-size: 1.5rem;
        color: #333;
    }

    .product-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 2rem;
    }

    .product-card {
        position: relative;
        background: white;
        border-radius: 12px;
        padding: 1rem;
        box-shadow: 0 3px 6px rgba(0,0,0,0.08);
        transition: all 0.3s ease;
        text-decoration: none;
        color: inherit;
    }

    .product-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }

    .rank-badge {
        position: absolute;
        top: -10px;
        left: -10px;
        width: 30px;
        height: 30px;
        background-color: #ff4757;
        color: white;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        z-index: 1;
    }

    .product-image-wrapper {
        position: relative;
        padding-top: 100%;
        overflow: hidden;
        border-radius: 8px;
    }

    .product-image {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .product-info {
        padding: 1rem 0;
    }

    .product-title {
        font-size: 1rem;
        margin: 0.5rem 0;
        color: #333;
        /* Webkit ë¸Œë¼ìš°ì €ìš© */
        display: -webkit-box;
        -webkit-box-orient: vertical;
        -webkit-line-clamp: 2;
        /* í‘œì¤€ ì†ì„± */
        display: box;
        box-orient: vertical;
        line-clamp: 2;
        /* ê³µí†µ ì†ì„± */
        overflow: hidden;
        text-overflow: ellipsis;
        word-break: break-word;
        line-height: 1.4;
        max-height: 2.8em; /* line-height * 2ì¤„ */
    }
    .price {
        color: #ff4757;
        font-weight: bold;
        font-size: 1.2rem;
        margin: 0.5rem 0;
    }

    .sales-count {
        color: #666;
        font-size: 0.9rem;
        margin: 0;
    }

    @media (max-width: 768px) {
        .product-grid {
            grid-template-columns: repeat(1, 1fr);
        }
    }
</style> 